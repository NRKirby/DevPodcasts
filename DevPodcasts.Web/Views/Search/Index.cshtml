@model DevPodcasts.ViewModels.Search.SearchIndexViewModel
@{
    ViewBag.Title = "Index";
    var searchQuery = ViewBag.SearchQuery;
}

<h1>Search</h1>
<div class="col-lg-6 pull-left" style="padding: 0 0 0 0">
    @using (Html.BeginForm("Index", "Search", FormMethod.Get, new { @class = "navbar-form" }))
    {
        <div class="input-group">
            @if (searchQuery != null)
            {
                <input type="text" class="form-control" placeholder="Search" name="q" value=@searchQuery>
            }
            else
            {
                <input type="text" class="form-control" placeholder="Search" name="q">
            }
            <div class="input-group-btn">
                <button class="btn btn-default" type="submit"><i class="glyphicon glyphicon-search"></i></button>
            </div>
        </div>
    }
</div>
<div style="clear:both; position: relative; top: 12px; left: 15px">
    <h4>@Model.PodcastSearchResults.Count() results</h4>
</div>
<div id="search_results" style="position: relative; top: 20px">
    <ul style="list-style-type:none">
        @foreach (var result in Model.PodcastSearchResults)
        {
            <li style="border-bottom: 1px solid #e4e6e8; padding: 12px 0 10px 0;">
                <p>@Html.ActionLink(result.Title, "Detail", "Podcast", new { id = result.Id }, null)   <strong>(@result.NumberOfEpisodes episodes)</strong></p>
                <p>@result.Description</p>
            </li>
        }
    </ul>
</div>